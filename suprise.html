<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Birthday Surprise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🤗</text></svg>">

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        overflow-x: hidden;
        width: 100vw;
        min-height: 100vh;
        background: #ffeaea;
        -webkit-tap-highlight-color: transparent;
      }

      .page {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1);
        overflow-y: auto;
        padding: 20px;
      }

      .page.hidden {
        visibility: hidden;
        opacity: 0;
        transform: rotateY(180deg);
      }

      /* Music Popup */
      .music-popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        backdrop-filter: blur(5px);
      }

      .music-popup-content {
        background: white;
        padding: 30px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        max-width: 300px;
        width: 90%;
      }

      .music-popup h3 {
        color: #ff6b6b;
        margin-bottom: 15px;
        font-size: 1.3rem;
      }

      .music-popup-buttons {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 20px;
      }

      .music-popup-btn {
        padding: 10px 20px;
        border-radius: 50px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        min-width: 80px;
      }

      .music-popup-yes {
        background: #ff6b6b;
        color: white;
      }

      .music-popup-no {
        background: #e0e0e0;
        color: #555;
      }

      /* RESPONSIVE PAGINATION */
      .pagination-container {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        z-index: 100;
        padding: 15px 10px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-top: 1px solid rgba(255, 107, 107, 0.2);
        box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.1);
      }

      .pagination-dot {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: white;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: #ff6b6b;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
        border: 2px solid transparent;
        font-size: 16px;
      }

      .pagination-dot.active {
        background: #ff6b6b;
        color: white;
        transform: scale(1.1);
        border-color: #ff5252;
        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
      }

      /* GUARANTEED CARD FLIP FOR iOS */
      .card-container {
        width: min(320px, 90vw);
        height: min(400px, 80vh);
        perspective: 1000px;
        -webkit-perspective: 1000px;
      }

      .card {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        -webkit-transform-style: preserve-3d;
        transition: transform 0.8s ease;
        -webkit-transition: transform 0.8s ease;
        cursor: pointer;
      }

      .card.flipped {
        transform: rotateY(180deg);
        -webkit-transform: rotateY(180deg);
      }

      .card-front,
      .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 20px;
        padding: 20px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .card-front {
        background: white;
        z-index: 2;
      }

      .card-back {
        background: linear-gradient(135deg, #f9a1c1, #f58fc3);
        color: white;
        transform: rotateY(180deg);
        -webkit-transform: rotateY(180deg);
      }

      .envelope {
        font-size: clamp(50px, 15vw, 70px);
        margin-bottom: 15px;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Rose background pattern */
      .rose-bg {
        position: absolute;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(
            circle at 20% 30%,
            rgba(255, 182, 193, 0.3) 0%,
            rgba(255, 182, 193, 0.3) 20%,
            transparent 20%
          ),
          radial-gradient(
            circle at 80% 70%,
            rgba(255, 182, 193, 0.3) 0%,
            rgba(255, 182, 193, 0.3) 20%,
            transparent 20%
          ),
          radial-gradient(
            circle at 40% 80%,
            rgba(255, 182, 193, 0.3) 0%,
            rgba(255, 182, 193, 0.3) 15%,
            transparent 15%
          ),
          radial-gradient(
            circle at 70% 20%,
            rgba(255, 182, 193, 0.3) 0%,
            rgba(255, 182, 193, 0.3) 15%,
            transparent 15%
          ),
          radial-gradient(
            circle at 10% 50%,
            rgba(255, 182, 193, 0.3) 0%,
            rgba(255, 182, 193, 0.3) 12%,
            transparent 12%
          ),
          radial-gradient(
            circle at 90% 40%,
            rgba(255, 182, 193, 0.3) 0%,
            rgba(255, 182, 193, 0.3) 12%,
            transparent 12%
          );
        background-size: 200px 200px;
        opacity: 0.6;
        z-index: 0;
      }

      /* PAGE 1 - Birthday Card */
      .page-1 {
        background: linear-gradient(135deg, #f9c1c1, #ffd9d9, #ffeaea);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* PAGE 2 - Typing Message */
      .page-2 {
        background: linear-gradient(135deg, #fceabb, #f8b500, #f6a0c4);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .typing-box {
        width: 90%;
        max-width: 700px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        font-size: clamp(1rem, 4vw, 1.2rem);
        line-height: 1.8;
        position: relative;
        overflow: hidden;
        font-family: "Poppins", sans-serif;
        z-index: 10;
      }

      .typing-box::after {
        content: "|";
        position: absolute;
        right: 10px;
        animation: blink 1s infinite;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }

      /* PAGE 3 - Points with floating hearts */
      .page-3 {
        background: linear-gradient(135deg, #c1f9f4, #d9fff7, #eafaff);
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
      }

      .point-box {
        background: white;
        padding: 15px 20px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        font-size: clamp(0.9rem, 3.5vw, 1.1rem);
        display: flex;
        align-items: center;
        gap: 10px;
        position: relative;
        z-index: 10;
        width: 90%;
        max-width: 500px;
      }

      .floating-heart {
        position: absolute;
        font-size: clamp(16px, 5vw, 20px);
        pointer-events: none;
        animation: floatUp 4s linear forwards;
        opacity: 0;
        z-index: 1;
      }

      @keyframes floatUp {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      /* PAGE 4 - Gallery */
      .page-4 {
        background: linear-gradient(135deg, #ffe1f9, #ffd1e9, #ffc1dd);
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding-top: 50px;
        overflow-y: auto;
      }

      .gallery-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 15px;
        width: 90%;
        max-width: 1200px;
        margin-bottom: 100px;
        z-index: 10;
      }

      .photo-card {
        position: relative;
        border-radius: 15px;
        overflow: hidden;
        cursor: pointer;
        background: #fff;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        transition: all 0.3s;
        display: flex;
        flex-direction: column;
        aspect-ratio: 3/4;
      }

      .photo-card img,
      .photo-card video {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: all 0.3s;
        background-color: #f8f8f8;
      }

      .photo-card-caption {
        background: rgba(255, 255, 255, 0.9);
        padding: 10px;
        text-align: center;
        font-weight: 600;
        color: #ff6b6b;
      }

      /* Expanded media styles */
      .media-expanded-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 20px;
      }

      .media-expanded {
        position: relative;
        width: 90%;
        max-width: 800px;
        max-height: 90vh;
        border-radius: 15px;
        overflow: hidden;
        background: #fff;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .media-expanded img,
      .media-expanded video {
        width: 100%;
        height: 100%;
        max-height: 70vh;
        object-fit: contain;
        display: block;
      }

      .media-expanded-caption {
        background: rgba(255, 255, 255, 0.95);
        padding: 15px;
        text-align: center;
        font-weight: 600;
        color: #ff6b6b;
        font-size: clamp(1rem, 4vw, 1.2rem);
      }

      .close-expanded {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.5rem;
        z-index: 10;
        color: #ff6b6b;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      /* PAGE 5 - Cute Calendar */
      .page-5 {
        background: linear-gradient(135deg, #d1f9c1, #d9ffd9, #eaffea);
      }

      .cute-calendar {
        background: white;
        padding: 15px;
        border-radius: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        position: relative;
        z-index: 10;
        border: 3px solid #ffb6c1;
        max-width: min(400px, 90vw);
        width: 90%;
      }

      .calendar-header {
        text-align: center;
        margin-bottom: 20px;
        color: #ff6b6b;
        font-weight: 700;
        font-size: clamp(1.2rem, 5vw, 1.5rem);
      }

      .calendar-body {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
        margin-bottom: 20px;
      }

      .calendar-day {
        text-align: center;
        padding: 8px;
        border-radius: 50%;
        font-weight: 600;
        font-size: clamp(0.8rem, 3vw, 1rem);
      }

      .calendar-day.empty {
        visibility: hidden;
      }

      .calendar-day.birthday {
        background: #ff6b6b;
        color: white;
        animation: birthdayGlow 2s infinite;
      }

      @keyframes birthdayGlow {
        0%,
        100% {
          box-shadow: 0 0 5px #ff6b6b;
        }
        50% {
          box-shadow: 0 0 20px #ff6b6b, 0 0 30px #ff6b6b;
        }
      }

      .calendar-footer {
        text-align: center;
        color: #ff6b6b;
        font-weight: 600;
        font-size: clamp(1rem, 4vw, 1.2rem);
      }

      /* PAGE 6 - Sweet Messages */
      .page-6 {
        background: linear-gradient(135deg, #f9c1e8, #ffd9f2, #ffeaf7);
      }

      .cute-message-box {
        background: rgba(255, 255, 255, 0.9);
        padding: 40px;
        border-radius: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        text-align: center;
        max-width: min(600px, 90vw);
        width: 90%;
        position: relative;
        z-index: 10;
        border: 3px solid #ff85a2;
        font-size: clamp(1rem, 4vw, 1.1rem);
        line-height: 1.7;
      }

      /* PAGE 7 - Cute Moments */
      .page-7 {
        background: linear-gradient(135deg, #c1e3f9, #d9edff, #eaf5ff);
      }

      .cute-moments-box {
        background: rgba(255, 255, 255, 0.9);
        padding: 40px;
        border-radius: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        text-align: center;
        max-width: min(600px, 90vw);
        width: 90%;
        position: relative;
        z-index: 10;
        border: 3px solid #85c1ff;
        font-size: clamp(1rem, 4vw, 1.1rem);
        line-height: 1.7;
      }

      /* PAGE 8 - Celebrate */
      .page-8 {
        background: linear-gradient(135deg, #fff9c4, #fff59d, #fff176);
      }

      .celebrate-box {
        background: rgba(255, 255, 255, 0.9);
        padding: 40px;
        border-radius: 25px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        text-align: center;
        max-width: min(600px, 90vw);
        width: 90%;
        position: relative;
        z-index: 10;
        border: 3px solid #ffd54f;
        font-size: clamp(1rem, 4vw, 1.1rem);
        line-height: 1.7;
        transition: all 0.5s ease;
      }

      .celebrate-box.closing {
        transform: scale(0);
        opacity: 0;
      }

      .page-title {
        font-size: clamp(2rem, 10vw, 3rem);
        color: #ff6b6b;
        text-shadow: 0 0 10px #fff, 0 0 20px #ff9a9e;
        animation: fadeInTitle 1s forwards;
        margin-bottom: 20px;
        position: relative;
        z-index: 10;
        text-align: center;
        padding: 0 20px;
      }

      @keyframes fadeInTitle {
        0% {
          opacity: 0;
          transform: translateY(-20px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
          font-family: "Pacifico";
          text-align: center;
        }
      }

      /* iOS-specific fixes */
      @media (max-width: 768px) {
        .card-container {
          perspective: 800px;
          -webkit-perspective: 800px;
        }
        
        .card {
          transition: transform 0.6s ease;
          -webkit-transition: transform 0.6s ease;
        }
      }

      /* Touch device optimizations */
      @media (hover: none) {
        .card:hover {
          transform: none;
        }

        .photo-card:hover {
          transform: none;
        }

        .pagination-dot:hover {
          transform: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- Music Popup -->
    <div class="music-popup" id="music-popup">
      <div class="music-popup-content">
        <h3>🎵 Background Music 🎵</h3>
        <p>Would you like to play background music?</p>
        <div class="music-popup-buttons">
          <button class="music-popup-btn music-popup-yes" id="music-yes">Yes</button>
          <button class="music-popup-btn music-popup-no" id="music-no">No</button>
        </div>
      </div>
    </div>

    <!-- Background Music -->
    <audio id="background-music" preload="metadata" playsinline webkit-playsinline loop>
      <source src="photos/birthday.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <!-- PAGE 1 -->
    <div class="page page-1" id="page-1">
      <div class="rose-bg"></div>
      <h1 class="page-title">Birthday Card❤️</h1>
      
      <!-- GUARANTEED WORKING CARD STRUCTURE -->
      <div class="card-container">
        <div class="card" id="birthday-card">
          <div class="card-front">
            <div class="envelope">🎉</div>
            <h2>Happy Birthday! Bebo</h2>
            <p>Tap to open</p>
          </div>
          <div class="card-back">
            <h2>Special Birthday Note</h2>
            <p>
              To my dearest Bebo, Happy birthday, my love! Today is all about
              celebrating the incredible person you are. You bring so much light,
              laughter, and love into my life, and I feel like the luckiest person
              in the world to call you mine. You deserve the world and more.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- PAGE 2 - Typing effect -->
    <div class="page page-2 hidden" id="page-2">
      <div class="rose-bg"></div>
      <h1 class="page-title">Heartfelt Message 💌</h1>
      <div class="typing-box" id="typing-box"></div>
    </div>

    <!-- PAGE 3 - Points with hearts -->
    <div class="page page-3 hidden" id="page-3">
      <div class="rose-bg"></div>
      <h1 class="page-title">Fun Points ✨</h1>
      <div class="point-box">
        🎂 "Your Superpowers" - All the amazing things she does
      </div>
      <div class="point-box">🎁Our Favorite Conversations -</div>
      <div class="point-box">
        "Moments You Made My Heart Skip" - Romantic timeline
      </div>
      <div class="point-box">❤️ Spread Love</div>
    </div>

    <!-- PAGE 4 - Memories gallery -->
    <div class="page page-4 hidden" id="page-4">
      <div class="rose-bg"></div>
      <h1 class="page-title">Our Memories 🖼️</h1>
      <div class="gallery-container" id="gallery-container">
        <!-- Gallery items will be inserted here by JavaScript -->
      </div>
    </div>

    <!-- PAGE 5 - Cute Calendar -->
    <div class="page page-5 hidden" id="page-5">
      <div class="rose-bg"></div>
      <h1 class="page-title">Special Date 🗓️</h1>
      <div class="cute-calendar">
        <div class="calendar-header">October 2025</div>
        <div class="calendar-body">
          <div class="calendar-day">Sun</div>
          <div class="calendar-day">Mon</div>
          <div class="calendar-day">Tue</div>
          <div class="calendar-day">Wed</div>
          <div class="calendar-day">Thu</div>
          <div class="calendar-day">Fri</div>
          <div class="calendar-day">Sat</div>

          <div class="calendar-day empty"></div>
          <div class="calendar-day empty"></div>
          <div class="calendar-day empty"></div>
          <div class="calendar-day">1</div>
          <div class="calendar-day">2</div>
          <div class="calendar-day">3</div>
          <div class="calendar-day">4</div>
          <div class="calendar-day">5</div>
          <div class="calendar-day">6</div>
          <div class="calendar-day">7</div>
          <div class="calendar-day">8</div>
          <div class="calendar-day">9</div>
          <div class="calendar-day">10</div>
          <div class="calendar-day">11</div>
          <div class="calendar-day">12</div>
          <div class="calendar-day">13</div>
          <div class="calendar-day">14</div>
          <div class="calendar-day">15</div>
          <div class="calendar-day">16</div>
          <div class="calendar-day">17</div>
          <div class="calendar-day">18</div>
          <div class="calendar-day birthday">19</div>
          <div class="calendar-day">20</div>
          <div class="calendar-day">21</div>
          <div class="calendar-day">22</div>
          <div class="calendar-day">23</div>
          <div class="calendar-day">24</div>
          <div class="calendar-day">25</div>
          <div class="calendar-day">26</div>
          <div class="calendar-day">27</div>
          <div class="calendar-day">28</div>
          <div class="calendar-day">29</div>
          <div class="calendar-day">30</div>
          <div class="calendar-day">31</div>
        </div>
        <div class="calendar-footer">🎂 Birthday Day! 🎂</div>
      </div>
    </div>

    <!-- PAGE 6 - Sweet Messages -->
    <div class="page page-6 hidden" id="page-6">
      <div class="rose-bg"></div>
      <h1 class="page-title">Sweet Messages 💕</h1>
      <div class="cute-message-box">
        My sweet Bebo, On your birthday, I just want to pour my heart out to
        you. You are the most beautiful melody in the symphony of my life -
        every note perfect, every rhythm exactly right. When I'm with you, the
        world feels softer, colors seem brighter, and time stands still in the
        most magical way. 💖 Your laughter is my favorite music, your smile my
        greatest treasure, and your love the most precious gift I've ever
        received.😄
      </div>
    </div>

    <!-- PAGE 7 - Cute Moments -->
    <div class="page page-7 hidden" id="page-7">
      <div class="rose-bg"></div>
      <h1 class="page-title">Cute Moments 🐾</h1>
      <div class="cute-moments-box">
        Remember all the fun times we had together? Keep smiling! 😄<br />
        Every moment with you is a treasure! 💖
      </div>
    </div>

    <!-- PAGE 8 - Celebrate -->
    <div class="page page-8 hidden" id="page-8">
      <div class="rose-bg"></div>
      <h1 class="page-title">Celebrate! 🎊</h1>
      <div class="celebrate-box" id="celebrate-box">
        My love bebo!Thank you for being the most beautiful part of my life's
        story. 💖<br />
        Thank you for seeing me, understanding me, and loving me exactly as I
        am.Having you in my life has made me a better person, and loving you has
        been the easiest and most natural thing I've ever done. I will spend
        forever thanking my lucky stars for bringing you to me. <br />
        Let's make this birthday unforgettable! ✨
        <button
          id="celebrate-btn"
          style="
            margin-top: 20px;
            padding: 12px 30px;
            border-radius: 50px;
            background: linear-gradient(90deg, #ff416c, #ff4b2b);
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            border: none;
          "
        >
          Celebrate!
        </button>
      </div>
    </div>

    <!-- Pagination -->
    <div class="pagination-container">
      <div class="pagination-dot active" data-page="1">1</div>
      <div class="pagination-dot" data-page="2">2</div>
      <div class="pagination-dot" data-page="3">3</div>
      <div class="pagination-dot" data-page="4">4</div>
      <div class="pagination-dot" data-page="5">5</div>
      <div class="pagination-dot" data-page="6">6</div>
      <div class="pagination-dot" data-page="7">7</div>
      <div class="pagination-dot" data-page="8">8</div>
    </div>

    <script>
      // Show music popup on page load
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('music-popup').style.display = 'flex';
      });

      // Music functionality
      const backgroundMusic = document.getElementById("background-music");
      let musicPlaying = false;
      let musicEnabled = false;

      // Music popup handlers
      document.getElementById('music-yes').addEventListener('click', function() {
        document.getElementById('music-popup').style.display = 'none';
        musicEnabled = true;
        backgroundMusic.volume = 0.7;
      });

      document.getElementById('music-no').addEventListener('click', function() {
        document.getElementById('music-popup').style.display = 'none';
        musicEnabled = false;
      });

      // GUARANTEED CARD FLIP - iOS COMPATIBLE
      const birthdayCard = document.getElementById("birthday-card");
      
      function flipCard() {
        console.log("Card flip triggered - working!");
        birthdayCard.classList.toggle("flipped");
        
        // Start music on first flip if enabled
        if (musicEnabled && !musicPlaying) {
          backgroundMusic.play()
            .then(() => {
              musicPlaying = true;
            })
            .catch(error => {
              console.log("Music play failed:", error);
            });
        }
      }

      // SIMPLE EVENT HANDLERS THAT WORK ON iOS
      birthdayCard.addEventListener("click", flipCard);
      
      // Touch events for mobile
      birthdayCard.addEventListener("touchend", function(e) {
        e.preventDefault();
        flipCard();
      });

      // Navigation
      const pages = document.querySelectorAll(".page");
      let currentPage = 1;
      const totalPages = pages.length;

      function goToPage(pageNumber) {
        if (pageNumber < 1 || pageNumber > totalPages) return;
        pages.forEach((p) => p.classList.add("hidden"));
        pages[pageNumber - 1].classList.remove("hidden");
        document.querySelectorAll(".pagination-dot").forEach((d) => d.classList.remove("active"));
        document.querySelector(`.pagination-dot[data-page="${pageNumber}"]`).classList.add("active");
        currentPage = pageNumber;
        
        if (pageNumber === 2) startTyping();
        if (pageNumber === 4) initializeGallery();
      }

      // Regular pagination dots
      document.querySelectorAll(".pagination-dot").forEach((dot) => {
        dot.addEventListener("click", () => goToPage(parseInt(dot.dataset.page)));
      });

      // Typing effect Page 2
      const message = "Happy birthday to my beautiful Bebo! You light up my world with your smile and fill my days with joy. Every moment with you is special, and I'm so grateful to have you in my life. May your day be as amazing and wonderful as you are. Love you always! 💖🎂";
      const typingBox = document.getElementById("typing-box");

      function startTyping() {
        typingBox.textContent = "";
        let typingIndex = 0;
        const typingInterval = setInterval(() => {
          if (typingIndex < message.length) {
            typingBox.textContent += message[typingIndex];
            typingIndex++;
          } else {
            clearInterval(typingInterval);
          }
        }, 50);
      }

      // Floating hearts Page 3
      function createHeart() {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.textContent = "❤️";
        heart.style.left = Math.random() * 90 + "%";
        document.getElementById("page-3").appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }
      setInterval(createHeart, 500);

      // Gallery initialization
      function initializeGallery() {
        const galleryContainer = document.getElementById("gallery-container");
        galleryContainer.innerHTML = "";

        const mediaItems = [
          {
            type: "image",
            src: "photos/WhatsApp Image 2025-10-10 at 07.40.35 (2).jpeg",
            caption: "Together Forever",
          },
          {
            type: "image",
            src: "photos/WhatsApp Image 2025-10-10 at 07.40.35.jpeg",
            caption: "My Bebo",
          },
          // Add your other media items here...
        ];

        mediaItems.forEach((item, index) => {
          const photoCard = document.createElement("div");
          photoCard.className = "photo-card";
          photoCard.dataset.index = index;

          if (item.type === "image") {
            const img = document.createElement("img");
            img.src = item.src;
            img.alt = item.caption;
            img.loading = "lazy";
            photoCard.appendChild(img);
          } else {
            const video = document.createElement("video");
            video.muted = true;
            video.loop = true;
            video.playsInline = true;
            video.preload = "metadata";
            const source = document.createElement("source");
            source.src = item.src;
            source.type = "video/mp4";
            video.appendChild(source);
            photoCard.appendChild(video);
          }

          const caption = document.createElement("div");
          caption.className = "photo-card-caption";
          caption.textContent = item.caption;
          photoCard.appendChild(caption);

          galleryContainer.appendChild(photoCard);
        });

        // Add click event to expand media
        document.querySelectorAll(".photo-card").forEach((card) => {
          card.addEventListener("click", function () {
            const index = this.dataset.index;
            const item = mediaItems[index];

            const expandedOverlay = document.createElement("div");
            expandedOverlay.className = "media-expanded-overlay";

            const expandedMedia = document.createElement("div");
            expandedMedia.className = "media-expanded";

            const closeBtn = document.createElement("button");
            closeBtn.className = "close-expanded";
            closeBtn.innerHTML = "×";
            closeBtn.addEventListener("click", function (e) {
              e.stopPropagation();
              expandedOverlay.remove();
            });
            expandedMedia.appendChild(closeBtn);

            if (item.type === "image") {
              const img = document.createElement("img");
              img.src = item.src;
              img.alt = item.caption;
              expandedMedia.appendChild(img);
            } else {
              const video = document.createElement("video");
              video.controls = true;
              video.autoplay = true;
              video.muted = true;
              video.playsInline = true;
              const source = document.createElement("source");
              source.src = item.src;
              source.type = "video/mp4";
              video.appendChild(source);
              expandedMedia.appendChild(video);
            }

            const caption = document.createElement("div");
            caption.className = "media-expanded-caption";
            caption.textContent = item.caption;
            expandedMedia.appendChild(caption);

            expandedOverlay.appendChild(expandedMedia);
            document.body.appendChild(expandedOverlay);

            expandedOverlay.addEventListener("click", function (e) {
              if (e.target === expandedOverlay) {
                expandedOverlay.remove();
              }
            });
          });
        });
      }

      // Celebration effects for page 8
      document.getElementById("celebrate-btn").addEventListener("click", () => {
        const celebrateBox = document.getElementById("celebrate-box");
        celebrateBox.classList.add("closing");

        setTimeout(() => {
          celebrateBox.style.display = "none";
        }, 500);
      });

      // Initialize gallery when page loads
      document.addEventListener("DOMContentLoaded", function () {
        if (currentPage === 4) {
          initializeGallery();
        }
      });
    </script>
  </body>
</html>